# Monitoring and Observability Environment Configuration
# Source this file before running the monitoring stack

# =============================================================================
# MONITORING STACK CONFIGURATION
# =============================================================================

# Prometheus Configuration
PROMETHEUS_PORT=9090
PROMETHEUS_RETENTION_TIME=30d
PROMETHEUS_SCRAPE_INTERVAL=15s
PROMETHEUS_EVALUATION_INTERVAL=15s

# Grafana Configuration
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=agentic-rag-admin
GRAFANA_ALLOW_SIGN_UP=false

# Alertmanager Configuration
ALERTMANAGER_PORT=9093
ALERTMANAGER_WEBHOOK_URL=http://localhost:5001/webhook

# Node Exporter Configuration
NODE_EXPORTER_PORT=9100

# cAdvisor Configuration
CADVISOR_PORT=8080

# =============================================================================
# ELK STACK CONFIGURATION
# =============================================================================

# Elasticsearch Configuration
ELASTICSEARCH_PORT=9200
ELASTICSEARCH_TRANSPORT_PORT=9300
ELASTICSEARCH_MEMORY=512m
ELASTICSEARCH_CLUSTER_NAME=agentic-rag-cluster

# Logstash Configuration
LOGSTASH_PORT=5044
LOGSTASH_HTTP_PORT=9600
LOGSTASH_TCP_PORT=5000
LOGSTASH_UDP_PORT=5000
LOGSTASH_MEMORY=256m

# Kibana Configuration
KIBANA_PORT=5601
KIBANA_SERVER_NAME=agentic-rag-kibana

# =============================================================================
# DISTRIBUTED TRACING CONFIGURATION
# =============================================================================

# Jaeger Configuration
JAEGER_UI_PORT=16686
JAEGER_COLLECTOR_HTTP_PORT=14268
JAEGER_COLLECTOR_GRPC_PORT=14250
JAEGER_AGENT_UDP_PORT_1=6831
JAEGER_AGENT_UDP_PORT_2=6832
JAEGER_ZIPKIN_PORT=9411

# OpenTelemetry Configuration
OTEL_ENABLED=true
OTEL_SERVICE_NAME=agentic-rag-api
OTEL_EXPORTER_JAEGER_ENDPOINT=http://localhost:14268/api/traces
OTEL_EXPORTER_JAEGER_AGENT_HOST=localhost
OTEL_EXPORTER_JAEGER_AGENT_PORT=6831

# =============================================================================
# NOTIFICATION CONFIGURATION
# =============================================================================

# Email Configuration (for testing)
SMTP_SERVER=localhost
SMTP_PORT=587
SMTP_USERNAME=alerts@agentic-rag.com
SMTP_PASSWORD=password
SMTP_FROM_EMAIL=alerts@agentic-rag.com

# Slack Configuration (optional)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# Webhook Configuration (for testing)
WEBHOOK_URL=http://localhost:5001/webhook

# PagerDuty Configuration (optional)
PAGERDUTY_INTEGRATION_KEY=YOUR_PAGERDUTY_INTEGRATION_KEY

# =============================================================================
# MONITORING DATA PATHS
# =============================================================================

# Data directories for persistent storage
PROMETHEUS_DATA_PATH=./data/monitoring/prometheus
GRAFANA_DATA_PATH=./data/monitoring/grafana
ALERTMANAGER_DATA_PATH=./data/monitoring/alertmanager
ELASTICSEARCH_DATA_PATH=./data/monitoring/elasticsearch
FILEBEAT_DATA_PATH=./data/monitoring/filebeat

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================

# Memory limits for monitoring services
PROMETHEUS_MEMORY_LIMIT=1g
GRAFANA_MEMORY_LIMIT=512m
ELASTICSEARCH_MEMORY_LIMIT=1g
LOGSTASH_MEMORY_LIMIT=512m
KIBANA_MEMORY_LIMIT=512m

# CPU limits for monitoring services
PROMETHEUS_CPU_LIMIT=1.0
GRAFANA_CPU_LIMIT=0.5
ELASTICSEARCH_CPU_LIMIT=1.0
LOGSTASH_CPU_LIMIT=0.5
KIBANA_CPU_LIMIT=0.5

# =============================================================================
# TESTING CONFIGURATION
# =============================================================================

# Test data generation
GENERATE_TEST_METRICS=true
TEST_METRICS_INTERVAL=10s
TEST_ALERT_THRESHOLD=5.0

# Demo mode settings
DEMO_MODE=true
DEMO_USER_COUNT=100
DEMO_REQUEST_RATE=10

# Health check intervals
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Monitoring security (for production)
MONITORING_AUTH_ENABLED=false
MONITORING_TLS_ENABLED=false

# Network security
MONITORING_NETWORK_ISOLATION=true
MONITORING_FIREWALL_ENABLED=false

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log levels for monitoring services
PROMETHEUS_LOG_LEVEL=info
GRAFANA_LOG_LEVEL=info
ELASTICSEARCH_LOG_LEVEL=info
LOGSTASH_LOG_LEVEL=info
KIBANA_LOG_LEVEL=info

# Log retention
LOG_RETENTION_DAYS=30
LOG_ROTATION_SIZE=100MB
LOG_COMPRESSION=true

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Development features
ENABLE_MONITORING_DEBUG=true
ENABLE_METRICS_EXPORT=true
ENABLE_TRACE_SAMPLING=true

# Testing endpoints
ENABLE_TEST_ENDPOINTS=true
ENABLE_HEALTH_ENDPOINTS=true
ENABLE_METRICS_ENDPOINTS=true

# Performance monitoring
ENABLE_PERFORMANCE_PROFILING=false
ENABLE_MEMORY_PROFILING=false
ENABLE_CPU_PROFILING=false
